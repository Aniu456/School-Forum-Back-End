# ğŸ“ æ ¡å›­è®ºå›åå°ç³»ç»Ÿ

<div align="center">

åŸºäº **NestJS + TypeScript + PostgreSQL + Prisma** çš„ç°ä»£åŒ–æ ¡å›­ç¤¾äº¤è®ºå›åç«¯æœåŠ¡

[![NestJS](https://img.shields.io/badge/NestJS-v11-E0234E?logo=nestjs)](https://nestjs.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-v5.7-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14+-4169E1?logo=postgresql)](https://www.postgresql.org/)
[![Prisma](https://img.shields.io/badge/Prisma-ORM-2D3748?logo=prisma)](https://www.prisma.io/)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

æ ¡å›­è®ºå›åå°ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸ºæ ¡å›­ç”¨æˆ·æ‰“é€ çš„ç¤¾äº¤äº’åŠ¨å¹³å°ï¼Œæä¾›å‘å¸–ã€è¯„è®ºã€ç‚¹èµã€æœç´¢ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨ **NestJS** æ¡†æ¶å¼€å‘ï¼Œä½¿ç”¨ **PostgreSQL** æ•°æ®åº“ï¼Œéƒ¨ç½²åœ¨**é˜¿é‡Œäº‘**å¹³å°ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€æ˜“æ‰©å±•çš„ç‰¹ç‚¹ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **ç”¨æˆ·è®¤è¯** - JWT èº«ä»½è®¤è¯ã€ç”¨æˆ·æ³¨å†Œç™»å½•
- ğŸ“ **å¸–å­ç®¡ç†** - å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤å¸–å­ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ ã€è‰ç¨¿ä¿å­˜
- ğŸ’¬ **è¯„è®ºç³»ç»Ÿ** - ä¸€çº§è¯„è®ºå’ŒäºŒçº§å›å¤
- â¤ï¸ **ç‚¹èµåŠŸèƒ½** - å¯¹å¸–å­å’Œè¯„è®ºè¿›è¡Œç‚¹èµ
- ğŸ” **å…¨æ–‡æœç´¢** - å…³é”®è¯æœç´¢ã€æ ‡ç­¾ç­›é€‰
- ğŸ‘¤ **ä¸ªäººä¸­å¿ƒ** - ç”¨æˆ·èµ„æ–™ã€å‘å¸–å†å²
- ğŸ›¡ï¸ **å†…å®¹å®¡æ ¸** - ä¸¾æŠ¥æœºåˆ¶ã€ç®¡ç†å‘˜åå°
- ğŸ”” **é€šçŸ¥ç³»ç»Ÿ** - å®æ—¶æ¶ˆæ¯æ¨é€ã€WebSocket æ”¯æŒ
- ğŸ“Œ **å¸–å­æ”¶è—** - åˆ›å»ºæ”¶è—å¤¹ã€æ”¶è—å¸–å­
- ğŸ‘¥ **ç”¨æˆ·å…³æ³¨** - å…³æ³¨ç”¨æˆ·ã€æŸ¥çœ‹å…³æ³¨åˆ—è¡¨
- ğŸŒŸ **çƒ­é—¨æ¨è** - çƒ­é—¨å¸–å­ã€è¶‹åŠ¿å¸–å­ã€ä¸ªæ€§åŒ–æ¨èã€çƒ­é—¨è¯é¢˜

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

**æ ¸å¿ƒæ¡†æ¶**
- NestJS v11 - ä¼ä¸šçº§ Node.js æ¡†æ¶
- TypeScript v5.7 - ç±»å‹å®‰å…¨çš„ JavaScript
- Node.js 18+ - JavaScript è¿è¡Œæ—¶

**æ•°æ®å±‚**
- PostgreSQL 14+ - å…³ç³»å‹æ•°æ®åº“
- Prisma - ç°ä»£åŒ– ORM æ¡†æ¶
- Redis 6.0+ - ç¼“å­˜ä¸ä¼šè¯å­˜å‚¨

**äº‘æœåŠ¡ (é˜¿é‡Œäº‘)**
- ECS - åº”ç”¨æœåŠ¡å™¨
- RDS PostgreSQL - æ‰˜ç®¡æ•°æ®åº“
- Redis - æ‰˜ç®¡ç¼“å­˜æœåŠ¡
- OSS - å¯¹è±¡å­˜å‚¨ (å›¾ç‰‡/æ–‡ä»¶)

**è®¤è¯ä¸å®‰å…¨**
- JWT - èº«ä»½è®¤è¯
- Passport - è®¤è¯ä¸­é—´ä»¶
- bcrypt - å¯†ç åŠ å¯†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- PostgreSQL >= 14
- Redis >= 6.0

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd school-forum-back-end

# 2. å®‰è£…ä¾èµ–
pnpm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯

# 4. åˆå§‹åŒ–æ•°æ®åº“
pnpm prisma generate
pnpm prisma migrate dev --name init
pnpm prisma db seed  # å¯é€‰ï¼šå¡«å……æµ‹è¯•æ•°æ®

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm run start:dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨

### éªŒè¯å®‰è£…

```bash
curl http://localhost:3000/api/v1/health
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
school-forum-back-end/
â”œâ”€â”€ docs/                          # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture-design.md     # æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ api-documentation.md       # API æ¥å£æ–‡æ¡£
â”‚   â””â”€â”€ database-guide.md          # æ•°æ®åº“ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ prisma/                        # ğŸ—„ï¸ Prisma é…ç½®
â”‚   â”œâ”€â”€ schema.prisma              # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ seed.ts                    # æ•°æ®å¡«å……è„šæœ¬
â”‚   â””â”€â”€ migrations/                # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ src/                           # ğŸ’» æºä»£ç 
â”‚   â”œâ”€â”€ auth/                      # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ users/                     # ç”¨æˆ·æ¨¡å—
â”‚   â”œâ”€â”€ posts/                     # å¸–å­æ¨¡å—
â”‚   â”œâ”€â”€ comments/                  # è¯„è®ºæ¨¡å—
â”‚   â”œâ”€â”€ likes/                     # ç‚¹èµæ¨¡å—
â”‚   â”œâ”€â”€ search/                    # æœç´¢æ¨¡å—
â”‚   â”œâ”€â”€ notifications/             # é€šçŸ¥æ¨¡å—
â”‚   â”œâ”€â”€ admin/                     # ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ common/                    # å…¬å…±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ decorators/            # è£…é¥°å™¨
â”‚   â”‚   â”œâ”€â”€ filters/               # å¼‚å¸¸è¿‡æ»¤å™¨
â”‚   â”‚   â”œâ”€â”€ guards/                # å®ˆå«
â”‚   â”‚   â”œâ”€â”€ interceptors/          # æ‹¦æˆªå™¨
â”‚   â”‚   â””â”€â”€ pipes/                 # ç®¡é“
â”‚   â”œâ”€â”€ app.module.ts              # æ ¹æ¨¡å—
â”‚   â””â”€â”€ main.ts                    # åº”ç”¨å…¥å£
â”œâ”€â”€ test/                          # ğŸ§ª æµ‹è¯•
â”œâ”€â”€ .env.example                   # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore                     # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ nest-cli.json                  # NestJS CLI é…ç½®
â”œâ”€â”€ package.json                   # é¡¹ç›®é…ç½®
â”œâ”€â”€ pnpm-lock.yaml                 # ä¾èµ–é”å®š
â”œâ”€â”€ tsconfig.json                  # TypeScript é…ç½®
â””â”€â”€ README.md                      # æœ¬æ–‡ä»¶
```

---

## ğŸ“ å¼€å‘æŒ‡å—

### å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
pnpm run start          # å¯åŠ¨åº”ç”¨
pnpm run start:dev      # å¯åŠ¨å¼€å‘æ¨¡å¼ (çƒ­é‡è½½)
pnpm run start:debug    # å¯åŠ¨è°ƒè¯•æ¨¡å¼

# æ„å»º
pnpm run build          # ç¼–è¯‘ TypeScript

# æµ‹è¯•
pnpm run test           # è¿è¡Œå•å…ƒæµ‹è¯•
pnpm run test:cov       # æµ‹è¯•è¦†ç›–ç‡
pnpm run test:e2e       # E2E æµ‹è¯•

# ä»£ç è´¨é‡
pnpm run lint           # ä»£ç æ£€æŸ¥
pnpm run lint:fix       # è‡ªåŠ¨ä¿®å¤
pnpm run format         # æ ¼å¼åŒ–ä»£ç 

# æ•°æ®åº“
pnpm prisma studio      # æ‰“å¼€æ•°æ®åº“ç®¡ç†ç•Œé¢
pnpm prisma generate    # ç”Ÿæˆ Prisma Client
pnpm prisma migrate dev # åˆ›å»ºè¿ç§»
```

### åˆ›å»ºæ–°æ¨¡å—

```bash
# ä½¿ç”¨ NestJS CLI åˆ›å»ºæ¨¡å—
nest g resource <module-name>

# ç¤ºä¾‹ï¼šåˆ›å»ºæ¶ˆæ¯æ¨¡å—
nest g resource messages
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ESLint + Prettier ä¿è¯ä»£ç è´¨é‡
- éµå¾ª NestJS å®˜æ–¹é£æ ¼æŒ‡å—
- TypeScript ä¸¥æ ¼æ¨¡å¼
- æ‰€æœ‰ API æ¥å£å¿…é¡»æ·»åŠ  DTO éªŒè¯
- ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

---

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|-----|------|
| [è¯¦ç»†è¯´æ˜](./docs/README.md) | å®Œæ•´çš„é¡¹ç›®è¯´æ˜å’Œéƒ¨ç½²æŒ‡å— |
| [æ¶æ„è®¾è®¡](./docs/architecture-design.md) | ç³»ç»Ÿæ¶æ„ã€æ¨¡å—è®¾è®¡ã€æ•°æ®åº“è®¾è®¡ |
| [API æ–‡æ¡£](./docs/api-documentation.md) | RESTful API æ¥å£è¯¦ç»†æ–‡æ¡£ |
| [æ•°æ®åº“æŒ‡å—](./docs/database-guide.md) | Prisma ä½¿ç”¨å’Œæ•°æ®åº“è¿ç§»æŒ‡å— |

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm run test

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
pnpm run test:cov

# E2E æµ‹è¯•
pnpm run test:e2e
```

---

## ğŸš¢ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ

```bash
pnpm run start:dev
```

### ç”Ÿäº§ç¯å¢ƒ (é˜¿é‡Œäº‘)

è¯¦ç»†éƒ¨ç½²æ­¥éª¤è¯·å‚è€ƒï¼š[éƒ¨ç½²æ–‡æ¡£](./docs/README.md#-éƒ¨ç½²)

ç®€è¦æ­¥éª¤ï¼š
1. å‡†å¤‡é˜¿é‡Œäº‘èµ„æº (ECSã€RDSã€Redisã€OSS)
2. é…ç½®æœåŠ¡å™¨ç¯å¢ƒ
3. éƒ¨ç½²åº”ç”¨ä»£ç 
4. é…ç½® Nginx åå‘ä»£ç†
5. è®¾ç½® SSL è¯ä¹¦
6. å¯åŠ¨åº”ç”¨ (PM2)

---

## ğŸ”’ å®‰å…¨

- âœ… JWT è®¤è¯
- âœ… å¯†ç åŠ å¯† (bcrypt)
- âœ… SQL æ³¨å…¥é˜²æŠ¤ (Prisma ORM)
- âœ… XSS é˜²æŠ¤
- âœ… CORS é…ç½®
- âœ… Rate Limiting (é™æµ)
- âœ… è¾“å…¥éªŒè¯ (class-validator)

---

## ğŸ—ºï¸ è·¯çº¿å›¾

### v0.1.0 - åŸºç¡€æ¶æ„ âœ…
- [x] é¡¹ç›®åˆå§‹åŒ–
- [x] æ–‡æ¡£ç¼–å†™
- [x] æ•°æ®åº“è®¾è®¡

### v0.2.0 - æ ¸å¿ƒåŠŸèƒ½ âœ…
- [x] è®¤è¯æ¨¡å—
- [x] ç”¨æˆ·æ¨¡å—
- [x] å¸–å­æ¨¡å—
- [x] è¯„è®ºæ¨¡å—
- [x] ç‚¹èµæ¨¡å—

### v0.3.0 - é«˜çº§åŠŸèƒ½ âœ…
- [x] æœç´¢åŠŸèƒ½
- [x] é€šçŸ¥ç³»ç»Ÿ
- [x] ç®¡ç†åå°

### v0.4.0 - æ‰©å±•åŠŸèƒ½ âœ…
- [x] WebSocket å®æ—¶é€šçŸ¥æ¨é€
- [x] å¸–å­è‰ç¨¿åŠŸèƒ½
- [x] å¸–å­æ”¶è—åŠŸèƒ½
- [x] ç”¨æˆ·å…³æ³¨ç³»ç»Ÿ
- [x] çƒ­é—¨è¯é¢˜æ¨èç®—æ³•
- [x] Session å’Œ CORS é…ç½®
- [x] URL ç‰ˆæœ¬æ§åˆ¶ (/api/v1)

### v1.0.0 - æ­£å¼å‘å¸ƒ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®Œæ•´æµ‹è¯•è¦†ç›–
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [ ] æ–‡æ¡£å®Œå–„

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### Commit è§„èŒƒ

éµå¾ª Conventional Commitsï¼š

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ Bug
docs: æ–‡æ¡£æ›´æ–°
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾æ›´æ–°
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE)

---

## ğŸ‘¥ è”ç³»æ–¹å¼

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-org/school-forum-back-end/issues)
- **æŠ€æœ¯æ”¯æŒ**: support@example.com
- **é¡¹ç›®ä¸»é¡µ**: https://github.com/your-org/school-forum-back-end

---

## ğŸ™ è‡´è°¢

- [NestJS](https://nestjs.com/) - ä¼˜ç§€çš„ Node.js æ¡†æ¶
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨çš„ JavaScript
- [Prisma](https://www.prisma.io/) - ç°ä»£åŒ–çš„ ORM
- [PostgreSQL](https://www.postgresql.org/) - å¼ºå¤§çš„å¼€æºæ•°æ®åº“
- [é˜¿é‡Œäº‘](https://www.aliyun.com/) - å¯é çš„äº‘æœåŠ¡å¹³å°

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star â­**

Made with â¤ï¸ by åç«¯å¼€å‘å›¢é˜Ÿ

</div>
